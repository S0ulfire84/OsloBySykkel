(this["webpackJsonpreact-api"]=this["webpackJsonpreact-api"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),c=a.n(s),o=a(1),l=a(2),i=a(4),u=a(3),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={stations:[],stationsFiltered:[]},e.fetchFromServer=function(){var t="https://gbfs.urbansharing.com/oslobysykkel.no/";fetch(t+"station_information.json").then((function(e){return e.json()})).then((function(a){fetch(t+"station_status.json").then((function(e){return e.json()})).then((function(t){var n=a.data.stations,r=t.data.stations,s=n.map((function(e,t){return Object.assign({},e,r[t])}));e.setState({stations:s,stationsFiltered:s})})).catch(console.log)})).catch(console.log)},e.updateListButtonClicked=function(){e.fetchFromServer(),e.updateButton.current.disabled=!0,e.searchBar.current.value="",setTimeout((function(){e.updateButton.current.disabled=!1}),1e3)},e.handleSearchFilter=function(t){var a=e.state.stations;t.length>0&&(a=e.state.stations.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))),e.setState({stations:e.state.stations,stationsFiltered:a})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateButton=r.a.createRef(),this.searchBar=r.a.createRef(),this.fetchFromServer()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("center",null,r.a.createElement("h1",null,"Oslo Bysykkel Stasjonsliste")),r.a.createElement("p",null,r.a.createElement("button",{className:"btn btn-primary",ref:this.updateButton,onClick:this.updateListButtonClicked},"Oppdater liste")),r.a.createElement("p",null,r.a.createElement("input",{className:"form-control mb-2",ref:this.searchBar,placeholder:"S\xf8k",onChange:function(t){return e.handleSearchFilter(t.target.value)},type:"search",id:"search",name:"S\xf8k"})),r.a.createElement("table",{className:"table table-bordered table-striped"},r.a.createElement("tbody",null,this.state.stationsFiltered.map((function(e){return r.a.createElement("tr",{key:e.station_id},r.a.createElement("td",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ledige sykler: ",e.num_bikes_available),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Tilgjengelige l\xe5ser: ",e.num_docks_available)))})))))}}]),a}(r.a.Component),d=(a(12),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m,null)}}]),a}(n.Component));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root"))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.6212d174.chunk.js.map